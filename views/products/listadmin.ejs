<div class="container">
    <h1 class="text-center mb-4">üì¶ Product List</h1>

    <a href="/products/create/admin" class="btn-add">‚ûï Add Product</a>

    <table class="table table-bordered table-hover">
        <thead class="table-dark">
            <tr>
                <th scope="col">No.</th>
                <th scope="col">Product Name</th>
                <th scope="col">Category</th>
                <th scope="col">Type</th>
                <th scope="col">Price</th>
                <th scope="col">Stock</th>
                <th scope="col">Image</th>
                <th scope="col">Description</th>
                <th scope="col">Actions</th> <!-- New column -->
            </tr>
        </thead>
        <tbody>
            <% products.forEach((product, index)=> { %>
                <tr>
                    <td>
                        <%= index + 1 %>
                    </td>
                    <td>
                        <%= product.name %>
                    </td>
                    <td>
                        <%= product.category ? product.category.name : 'No category' %>
                    </td>
                    <td>
                        <%= product.type %>
                    </td>
                    <td>
                        <%= product.price.toLocaleString() %> VND
                    </td>
                    <td>
                        <%= product.stock %>
                    </td>
                    <td>
                        <% if (product.image) { %>
                            <img src="<%= product.image %>" alt="Product Image" width="50">
                            <% } else { %>
                                ‚ùå No Image
                                <% } %>
                    </td>
                    <td>
                        <%= product.description || 'No description' %>
                    </td>
                    <td>
                        <a href="/products/edit/<%= product.id %>/admin" class="btn btn-edit btn-sm">‚úè Edit</a>
                        <form action="/products/<%= product.id %>/admin?_method=DELETE" method="POST" style="display:inline;">
                            <button type="submit" class="btn btn-delete btn-sm"
                                onclick="return confirm('Are you sure you want to delete this product?')">üóë
                                Delete</button>
                        </form>
                    </td>
                </tr>
                <% }) %>
        </tbody>
    </table>
</div>

<style>
    body {
        background-color: #f8f9fa;
    }
    .container {
        margin-top: 40px;
    }
    .table img {
        border-radius: 5px;
    }
    .btn-add {
        display: inline-block;
        margin-bottom: 20px;
        padding: 10px 15px;
        background-color: #28a745;
        color: white;
        text-decoration: none;
        border-radius: 5px;
    }
    .btn-add:hover {
        background-color: #218838;
    }
    .btn-edit {
        background-color: #ffc107;
        color: white;
    }
    .btn-delete {
        background-color: #dc3545;
        color: white;
    }
    .btn-edit:hover {
        background-color: #e0a800;
    }
    .btn-delete:hover {
        background-color: #c82333;
    }
</style>
